(this["webpackJsonpstore-x-web-app"]=this["webpackJsonpstore-x-web-app"]||[]).push([[0],{45:function(e,t,a){e.exports=a(78)},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(15),l=a.n(c),o=a(3),s=a(2),m=a(22),i=a(23),u=function(){return r.a.createElement("div",{className:"next-steps"},r.a.createElement("h2",{className:"my-5 text-center"},"What can I do next?"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/connections"},r.a.createElement(m.a,{icon:i.a,className:"mr-2"}),"Configure other identity providers")),r.a.createElement("p",null,"Auth0 supports social providers as Facebook, Twitter, Instagram and 100+, Enterprise providers as Microsoft Office 365, Google Apps, Azure, and more. You can also use any OAuth2 Authorization Server.")),r.a.createElement("div",{className:"col-md"}),r.a.createElement("div",{className:"col-md-5 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/multifactor-authentication"},r.a.createElement(m.a,{icon:i.a,className:"mr-2"}),"Enable Multi-Factor Authentication")),r.a.createElement("p",null,"Add an extra layer of security by enabling Multi-factor Authentication, requiring your users to provide more than one piece of identifying information. Push notifications, authenticator apps, SMS, and DUO Security are supported."))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-5 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/anomaly-detection"},r.a.createElement(m.a,{icon:i.a,className:"mr-2"}),"Anomaly Detection")),r.a.createElement("p",null,"Auth0 can detect anomalies and stop malicious attempts to access your application. Anomaly detection can alert you and your users of suspicious activity, as well as block further login attempts.")),r.a.createElement("div",{className:"col-md"}),r.a.createElement("div",{className:"col-md-5 mb-4"},r.a.createElement("h6",{className:"mb-3"},r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/rules"},r.a.createElement(m.a,{icon:i.a,className:"mr-2"}),"Learn About Rules")),r.a.createElement("p",null,"Rules are JavaScript functions that execute when a user authenticates to your application. They run once the authentication process is complete, and you can use them to customize and extend Auth0's capabilities."))))},p=function(){return r.a.createElement("footer",{className:"bg-light p-3 text-center"},r.a.createElement("div",{className:"logo"}),r.a.createElement("p",null,"React-Auth0-AWS Project - Store X"))},d=function(){return r.a.createElement("div",{className:"text-center hero"},r.a.createElement("img",{className:"mb-3 app-logo",src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/logo.png",alt:"React logo",width:"120"}),r.a.createElement("h1",{className:"mb-4"},"React Sample Project"),r.a.createElement("p",{className:"lead"},"This is a sample application that demonstrates an authentication flow for an SPA, using"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://auth0.com/docs/quickstart/spa/react"},"React")))},b=function(){return r.a.createElement("div",{className:"spinner"},r.a.createElement("img",{src:"https://cdn.auth0.com/blog/auth0-react-sample/assets/loading.svg",alt:"Loading..."}))},E=a(8),h=function(){return r.a.createElement("div",{className:"navbar-nav mr-auto"},r.a.createElement(E.c,{to:"/",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Home"),r.a.createElement(E.c,{to:"/profile",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Profile"),r.a.createElement(E.c,{to:"/product",exact:!0,className:"nav-link",activeClassName:"router-link-exact-active"},"Products"))},f=function(){var e=Object(s.b)().loginWithRedirect;return r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return e()}},"Log In")},v=function(){var e=Object(s.b)().logout;return r.a.createElement("button",{className:"btn btn-danger btn-block",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},g=function(){return Object(s.b)().isAuthenticated?r.a.createElement(v,null):r.a.createElement(f,null)},x=function(){return r.a.createElement("div",{className:"navbar-nav ml-auto"},r.a.createElement(g,null))},N=function(){return r.a.createElement("div",{className:"nav-container mb-3"},r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light bg-light"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand logo"}),r.a.createElement(h,null),r.a.createElement(x,null))))},j=a(6),O=a.n(j),y=a(12),k=a(13),w=function(){var e=Object(n.useState)(""),t=Object(k.a)(e,2),a=t[0],c=t[1],l="https://mxhtg3mi53.execute-api.ap-southeast-1.amazonaws.com/dev",o=Object(s.b)().getAccessTokenSilently,m=function(){var e=Object(y.a)(O.a.mark((function e(){var t,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(l,"/users"));case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,c(a.message),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(y.a)(O.a.mark((function e(){var t,a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:return t=e.sent,e.next=6,fetch("".concat(l,"/users"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,c(n.message),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),c(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"container"},r.a.createElement("h1",null,"External API"),r.a.createElement("p",null,"Use these buttons to call an external API. The protected API call has an access token in its authorization header. The API server will validate the access token using the Auth0 Audience value."),r.a.createElement("div",{className:"btn-group mt-5",role:"group","aria-label":"External API Requests Examples"},r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:m},"Get Public Message"),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:i},"Get Protected Message")),a&&r.a.createElement("div",{className:"mt-5"},r.a.createElement("h6",{className:"muted"},"Result"),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("code",{className:"col-12 text-light bg-dark p-4"},a)))))},A=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(d,null),r.a.createElement("hr",null),r.a.createElement(u,null))},S=function(){var e=Object(s.b)().user,t=e.name,a=e.picture,n=e.email;return r.a.createElement("div",null,r.a.createElement("div",{className:"row align-items-center profile-header"},r.a.createElement("div",{className:"col-md-2 mb-3"},r.a.createElement("img",{src:a,alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement("div",{className:"col-md text-center text-md-left"},r.a.createElement("h2",null,t),r.a.createElement("p",{className:"lead text-muted"},n))),r.a.createElement("div",{className:"row"},r.a.createElement("pre",{className:"col-12 text-light bg-dark p-4"},JSON.stringify(e,null,2))))},P=a(14),C=a.n(P),z=function(){var e=Object(n.useState)([]),t=Object(k.a)(e,2),a=t[0],c=t[1];Object(s.b)().getAccessTokenSilently;Object(n.useEffect)((function(e){l(e)}),[]);var l=function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.get("https://mxhtg3mi53.execute-api.ap-southeast-1.amazonaws.com/dev/products");case 3:return a=e.sent,n=a.data,console.log(a),console.log(n),c(Object.values({productsList:n})[0]),e.next=10,a.json();case 10:r=e.sent,console.log(r.message),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"product-list"},r.a.createElement("h2",{className:"my-5 text-center"},"Products:"),r.a.createElement("p",null,"To post product, head to ",r.a.createElement("a",{href:"/product/post"},"post product")," page."),r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},"ID:",r.a.createElement("a",{href:"/product/"+e.id},e.id)," ",r.a.createElement("b",null,"| ",e.name))}))),r.a.createElement("div",{className:"row"},r.a.createElement("pre",{className:"col-12 text-light bg-dark p-4"},JSON.stringify(a,null,2))))},R=a(17),T=a(18),I=a(20),D=a(19),L=a(24),_=a(29),J=function(){var e=Object.assign({},{name:"",price:"",description:""}),t=Object(n.useState)(e),a=Object(k.a)(t,2),c=a[0],l=a[1],o=Object(s.b)().getAccessTokenSilently,m=function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,o();case 4:return a=e.sent,e.next=7,C.a.post("https://mxhtg3mi53.execute-api.ap-southeast-1.amazonaws.com/dev/products",c,{headers:{Authorization:"Bearer ".concat(a)}});case 7:return n=e.sent,e.next=10,n.json();case 10:r=e.sent,console.log(r.message),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),i=function(e){var t=e.target.name,a=e.target.value;l(Object(_.a)(Object(_.a)({},c),{},Object(L.a)({},t,a)))};return r.a.createElement("div",{class:"container"},r.a.createElement("form",{class:"col"},r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"name"},"Product name"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",name:"name",value:c.name,onChange:i})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"price"},"Price"),r.a.createElement("br",null),r.a.createElement("input",{type:"number",step:"0.01",min:"0",name:"price",value:c.price,onChange:i}),r.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"},"Please input in XX.XX format ",r.a.createElement("em",null,"(example: 4.98)"),".")),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",{for:"description"},"Description"),r.a.createElement("br",null),r.a.createElement("textarea",{name:"description",value:c.description,onChange:i}),r.a.createElement("small",{id:"emailHelp",class:"form-text text-muted"},"Product description")),r.a.createElement("button",{class:"btn btn-primary",onClick:m},"Submit"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)))},F=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(){var e;Object(R.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={products:[],error:r.a.createElement("div",null,r.a.createElement("h1",null,"No error"))},e}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"product-list"},r.a.createElement("h2",{className:"my-5 text-center"},"Post Products:"),r.a.createElement(J,null))}}]),a}(r.a.Component),G=a(21),M=function(){var e=Object(o.h)().id,t=Object(n.useState)(0),a=Object(k.a)(t,2),c=a[0],l=a[1],m=Object(n.useState)(String),i=Object(k.a)(m,2),u=i[0],p=i[1],d=Object(G.d)();Object(n.useEffect)((function(){C.a.get("https://mxhtg3mi53.execute-api.ap-southeast-1.amazonaws.com/dev/products/".concat(e)).then((function(e){l(e.data),p(JSON.stringify(e.data,null,2)),console.log(u)})).catch((function(e){console.log(e),p("Error 404: Not Found")}))}),[]);var b=Object(s.b)().getAccessTokenSilently,E=function(){var e=Object(y.a)(O.a.mark((function e(t){var a,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b();case 3:return a=e.sent,e.next=6,C.a.delete("https://mxhtg3mi53.execute-api.ap-southeast-1.amazonaws.com/dev/products/".concat(t),{headers:{Authorization:"Bearer ".concat(a)}}).then((function(e){d.show("deleted")})).catch((function(e){return d.show("Delete product: 404 not found"),console.log(e),r.a.createElement(o.a,{to:"/404"})}));case 6:if(n=e.sent,console.log(n),404!==n.status){e.next=10;break}return e.abrupt("return",r.a.createElement(o.a,{to:"/404"}));case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),d.show(e.t0.message),console.log(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary btn-block",onClick:function(){return E(e)}},"Delete")),r.a.createElement("div",{className:"row align-items-center profile-header"},r.a.createElement("div",{className:"col-md-2 mb-3"},r.a.createElement("img",{src:"https://m.media-amazon.com/images/I/81JdU-CaFzL._AC_SS350_.jpg",alt:"Profile",className:"rounded-circle img-fluid profile-picture mb-3 mb-md-0"})),r.a.createElement("div",{className:"col-md text-center text-md-left"},r.a.createElement("h2",null,c.name),r.a.createElement("p",{className:"lead text-muted"},"SGD ",c.price),r.a.createElement("p",{className:"lead text-muted"},"Description: ",c.description))),r.a.createElement("div",{className:"row"},r.a.createElement("pre",{className:"col-12 text-light bg-dark p-4"},u)))},B=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{class:"product-page"},r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/product",component:z}),r.a.createElement(o.b,{exact:!0,path:"/product/post",component:F}),r.a.createElement(o.b,{path:"/product/:id"},r.a.createElement(M,null))))}}]),a}(r.a.Component),U=function(e){Object(I.a)(a,e);var t=Object(D.a)(a);function a(){return Object(R.a)(this,a),t.apply(this,arguments)}return Object(T.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(E.b,{to:"/"},"Go to Home ")))}}]),a}(r.a.Component),X=a(44),H=function(e){var t=e.component,a=Object(X.a)(e,["component"]);return r.a.createElement(o.b,Object.assign({component:Object(s.c)(t,{onRedirecting:function(){return r.a.createElement(b,null)}})},a))},W=(a(76),function(){return Object(s.b)().isLoading?r.a.createElement(b,null):r.a.createElement("div",{id:"app",className:"d-flex flex-column h-100"},r.a.createElement(N,null),r.a.createElement("div",{className:"container flex-grow-1"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:A}),r.a.createElement(H,{path:"/profile",component:S}),r.a.createElement(H,{path:"/external-api",component:w}),r.a.createElement(o.b,{path:"/product",component:B}),r.a.createElement(o.b,{path:"/404",exact:!0,component:U}),r.a.createElement(o.a,{to:U}))),r.a.createElement(p,null))}),q=function(e){var t=e.children,a=Object(o.g)();return r.a.createElement(s.a,{domain:"store-x.us.auth0.com",clientId:"gDgURcB7zlFupG6W9CLZi6Lt9juR7cpv",redirectUri:window.location.origin,onRedirectCallback:function(e){a.push((null===e||void 0===e?void 0:e.returnTo)||window.location.pathname)},audience:"https://mxhtg3mi53.execute-api.ap-southeast-1.amazonaws.com"},t)},Y=a(43),Z=(a(77),{position:G.b.TOP_CENTER,timeout:5e3,offset:"30px",transition:G.c.SCALE});l.a.render(r.a.createElement(E.a,null,r.a.createElement(q,null,r.a.createElement(G.a,Object.assign({template:Y.a},Z),r.a.createElement(W,null)))),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.837462d4.chunk.js.map